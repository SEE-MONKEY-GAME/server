name: PR auto labels

on:
  pull_request:
    types: [opened, edited, synchronize, reopened]

jobs:
  label:
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    steps:
      - name: Remove mutually exclusive labels
        uses: actions-ecosystem/action-remove-labels@v1
        with:
          labels: |
            âœ¨ feat
            ğŸ› fix
            ğŸ”§ chore
            ğŸ“„ docs
            â™»ï¸ refactoring
            ğŸ§ª test
            ğŸ§¹ cleanup

      # ì ‘ë‘ì–´ ë§¤ì¹­ í›„ í•´ë‹¹ ë¼ë²¨ ë¶€ì—¬
      - name: Add feat
        if: ${{ startsWith(github.event.pull_request.title, 'feat:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "âœ¨ feat"

      - name: Add fix
        if: ${{ startsWith(github.event.pull_request.title, 'fix:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "ğŸ› fix"

      - name: Add chore
        if: ${{ startsWith(github.event.pull_request.title, 'chore:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "ğŸ”§ chore"

      - name: Add docs
        if: ${{ startsWith(github.event.pull_request.title, 'docs:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "ğŸ“„ docs"

      - name: Add refactoring
        if: ${{ startsWith(github.event.pull_request.title, 'refactor:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "â™»ï¸ refactor"

      - name: Add test
        if: ${{ startsWith(github.event.pull_request.title, 'test:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "ğŸ§ª test"

      - name: Add cleanup
        if: ${{ startsWith(github.event.pull_request.title, 'cleanup:') }}
        uses: actions-ecosystem/action-add-labels@v1
        with:
          labels: "ğŸ§¹ cleanup"
